"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[586],{586:function(t,s,e){e.r(s),e.d(s,{default:function(){return b},withRouter:function(){return E}});var a=e(5671),r=e(3144),o=e(9340),n=e(2882),i=e(8683),u=e(2791),l=e(7781),p=e(8687),A=e(6407),c=e(5705),f=e(1299),d={post:"Post_post__V5Peu",likeWrapper:"Post_likeWrapper__MhFTE",like:"Post_like__KQukj"},h=e(184),v=function(t){return(0,h.jsxs)("div",{className:d.post,children:[(0,h.jsx)("img",{src:f,alt:"avatar"}),(0,h.jsx)("div",{className:d.text,children:t.message}),(0,h.jsxs)("div",{className:d.likeWrapper,children:[(0,h.jsx)("div",{className:d.likeCount,children:t.likeCount}),(0,h.jsx)("button",{className:d.like})]})]})},g={myPosts:"MyPosts_myPosts__8AJho",posts:"MyPosts_posts__MELf7",avatarIcon:"MyPosts_avatarIcon__i-9AC",createPost:"MyPosts_createPost__urmHf",newPost:"MyPosts_newPost__McIaI",btn:"MyPosts_btn__95VXH",errors:"MyPosts_errors__0uhnV",form:"MyPosts_form__3RYpB"},m=function(t){var s=t.addPost;return(0,h.jsx)("div",{className:g.formWrapper,children:(0,h.jsx)(c.J9,{initialValues:{postText:""},validate:function(t){return function(t){var s={};return t.postText.length>500&&(s.postText="Max length 500"),s}(t)},onSubmit:function(t,e){var a=e.setSubmitting,r=e.resetForm,o=t.postText;s(o),a(!1),r()},children:function(t){var s=t.isSubmitting,e=t.touched,a=t.errors;return(0,h.jsxs)(c.l0,{className:g.form,children:[(0,h.jsx)(c.gN,{type:"textarea",name:"postText",id:"postText",className:g.newPost}),e.postText&&a.postText&&(0,h.jsx)("div",{className:g.errors,children:a.postText}),(0,h.jsx)("button",{type:"submit",disabled:s,className:g.btn,children:"+"})]})}})})},P=function(t){var s=t.posts.map((function(t){return(0,h.jsx)(v,{message:t.post,likeCount:t.likeCount},t.id)}));return(0,h.jsxs)("div",{className:g.myPosts,children:[(0,h.jsxs)("div",{className:g.createPost,children:[(0,h.jsx)("img",{src:f,alt:"avatar",className:g.avatarIcon}),(0,h.jsx)(m,{addPost:function(s){t.addPost(s)}})]}),(0,h.jsx)("div",{className:g.posts,children:s})]})},x=(0,p.$j)((function(t){return{posts:t.profileReducer.posts}}),(function(t){return{addPost:function(s){t((0,A.WA)(s))}}}))(P),C=e(885),I=e(2426),N=e(2315),Q={avatarImg:"ProfileInfo_avatarImg__9D6pi",info:"ProfileInfo_info__NKoGS",description:"ProfileInfo_description__FV6Tx",avaBtnWrapper:"ProfileInfo_avaBtnWrapper__3ptJz",avaBtn:"ProfileInfo_avaBtn__qSb7g",avaBtnLabel:"ProfileInfo_avaBtnLabel__Rk6US"},j={profileStatusWrapper:"ProfileStatus_profileStatusWrapper__yY+cn",profileStatusInput:"ProfileStatus_profileStatusInput__vU0Qh"},S=function(t){var s=t.status,e=t.updateStatus,a=(0,u.useState)(!1),r=(0,C.Z)(a,2),o=r[0],n=r[1],i=(0,u.useState)(s),l=(0,C.Z)(i,2),p=l[0],A=l[1];(0,u.useEffect)((function(){A(s)}),[s]);return(0,h.jsxs)("div",{className:j.profileStatusWrapper,children:[!o&&(0,h.jsxs)("div",{"data-testid":"status",className:j.profileStatusText,onDoubleClick:function(){n(!0)},children:["status: ",p||"----"]}),o&&(0,h.jsx)("div",{className:j.profileStatusInputWrapper,children:(0,h.jsx)("input",{"data-testid":"statusInput",className:j.profileStatusInput,autoFocus:!0,value:p,onBlur:function(){n(!1),e(p)},onChange:function(t){!function(t){A(t.currentTarget.value)}(t)}})})]})},w=u.memo((function(t){var s=(0,u.useState)(!1),e=(0,C.Z)(s,2),a=e[0],r=e[1];return t.profile?(0,h.jsxs)("div",{className:Q.info,children:[(0,h.jsxs)("div",{className:Q.ava,onMouseOver:function(){r(!0)},onMouseOut:function(){r(!1)},children:[(0,h.jsx)("img",{alt:"avatar",src:t.profile.photos.small?t.profile.photos.small:N,className:Q.avatarImg}),a&&t.isAuth&&(0,h.jsx)("div",{className:Q.avaBtnWrapper,children:(0,h.jsxs)("label",{className:Q.avaBtnLabel,children:["Select Photo",(0,h.jsx)("input",{type:"file",className:Q.avaBtn,onChange:function(s){!function(s){var e;null!==(e=s.target.files)&&void 0!==e&&e.length&&t.savePhoto(s.target.files[0])}(s)}})]})})]}),(0,h.jsxs)("div",{className:Q.description,children:[(0,h.jsx)("p",{children:t.profile.fullName}),(0,h.jsx)(S,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsxs)("p",{children:["about Me: ",t.profile.aboutMe]})]})]}):(0,h.jsx)(I.Z,{})})),B="Profile_profile__4u1tx",R=function(t){return(0,h.jsxs)("section",{className:B,children:[(0,h.jsx)(w,{profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto,isAuth:t.isAuth}),(0,h.jsx)(x,{})]})},k=e(6871),E=function(t){return function(s){var e={params:(0,k.UO)()},a=(0,k.s0)();return(0,h.jsx)(t,(0,i.Z)((0,i.Z)({savePhoto:A.Ju},s),{},{params:e.params,navigate:a}))}},y=function(t){(0,o.Z)(e,t);var s=(0,n.Z)(e);function e(){return(0,a.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"refreshProfile",value:function(){var t,s=null===(t=this.props.state.profile)||void 0===t?void 0:t.userId;s||(s=this.props.authorizedUserId)||this.props.navigate("/login"),this.props.getUserPage(+s),this.props.getStatus(+s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){var s,e;(null===(s=this.props.state.profile)||void 0===s?void 0:s.photos.small)!==(null===(e=t.state.profile)||void 0===e?void 0:e.photos.small)&&this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(R,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.state.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,isAuth:this.props.isAuth}))}}]),e}(u.Component),b=(0,l.qC)((0,p.$j)((function(t){return{state:t.profileReducer,profile:t.profileReducer.profile,status:t.profileReducer.status,authorizedUserId:t.authReducer.id,isAuth:t.authReducer.isAuth}}),{getUserPage:A.HF,getStatus:A.lR,updateStatus:A.Nf,savePhoto:A.Ju}),E)(y)},2315:function(t){t.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=586.62e0697e.chunk.js.map